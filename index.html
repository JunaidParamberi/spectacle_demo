<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Spectacle</title>
</head>
<body>
    <!-- Video container -->
    <video id="videoPlayer" class="cover_video" muted autoplay playsinline preload="auto">
        <!-- Desktop Intro video -->
        <source id="sourceDesktopIntro" 
                src="/assets/Videos/2024 1127 Landing Page_Landscape_Intro.mp4" 
                type="video/mp4" 
                media="(min-width: 768px)">
        <!-- Mobile Intro video -->
        <source id="sourceMobileIntro" 
                src="/assets/Videos/2024 1127 Website Landing Page_Mobile Video (Portrait)_Intro.mp4" 
                type="video/mp4" 
                media="(max-width: 767px)">
        <p>Your browser does not support HTML5 video. Please update your browser.</p>
    </video>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const videoPlayer = document.getElementById('videoPlayer');

            // Preload loop video URLs
            const desktopLoop = "/assets/Videos/2024 1129 Landing Page_Landscape_Loop.mp4";
            const mobileLoop = "/assets/Videos/2024 1127 Website Landing Page_Mobile Video (Portrait)_Loop.mp4";

            // Event listener for when the intro video ends
            videoPlayer.addEventListener('ended', () => {
                const loopVideo = window.innerWidth >= 768 ? desktopLoop : mobileLoop;
                videoPlayer.src = loopVideo;
                videoPlayer.load(); // Reload video
                videoPlayer.loop = true;
                videoPlayer.play().catch(err => console.error('Video playback error:', err));
            });

            // Error handling
            videoPlayer.addEventListener('error', (e) => {
                console.error('Video failed to load:', e);
                alert('There was an issue loading the video. Please check your connection or try again.');
            });
        });
    </script>
</body>
</html>
